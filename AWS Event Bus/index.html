<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Bus</title>


    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f8f8f8; /* Light Grey Color */
        }
        
                header {
                    max-width: 1500px;
                    color: #fff;
                    padding: 20px;
                    background-color: #6495ED;
                    border-radius: 8px;
                    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                    text-align: center; /* Center content horizontally */
                }
        
                section {
                    max-width: 1150px;
                    margin: 20px auto;
                    padding: 20px;
                    background-color: #ffffff;
                    border-radius: 8px;
                    box-shadow: 0 0 10px rgba(23, 18, 93, 0.1);
                }
        
                h2 {
            color: #050505;
        
            font-size: 1.0em;
            margin-bottom: 10px;
        
        }
        
        code {
                    display: block;
                    background-color: #f4f4f4;
                    padding: 10px;
                    margin-bottom: 15px;
                }
        
                .or {
                    font-weight: bold;
                    margin: 0 10px; /* Adjusted margin */
                }
        
                pre {
                    font-family: 'Arial', monospace;
                    background-color: #f8f8f8;
                    padding: 10px;
                    border: 1px solid #ddd;
                    overflow-x: auto;
                }
        
                p {
                    color: #0e0e0e;
                }
        
                ol {
                    color: #111010;
                    padding-left: 20px;
                }
        
                a {
                    color: #0066cc;
                    text-decoration: none;
                }
        
                th {
                    background-color: #f2f2f2;
                }
        
                dl {
          margin-bottom: 20px;
        }
        
        dt {
          font-weight: bold;
        }
        
        dd {
          margin-left: 20px;
        }
        
                    .lb-h1 {
                        /* Add styles for the h1 element */
                        text-align: center; /* Center-align the heading */
                    }
        
                    .center-image {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    height: 100vh; /* Optional: Adjust the height as needed */
                }
        
        
                body {
                                        font-family: Arial, sans-serif;
                                        margin: 20px;
                                    }
                            
                                    li {
                                        margin-bottom: 10px;
                                    }
                            
                                    .free-tier {
                                        background-color: #f0f8ff;
                                        padding: 10px;
                                        border-radius: 5px;
                                    }       
            </style>
        


</head>
<body>

    <div class="lb-transition-wrapper lb-transition-fade-in lb-active" data-lb-comp="transition-wrapper" data-lb-comp-registered="true">
        <div class="lb-none-pad lb-grid lb-row lb-row-max-large lb-snap" style="display: flex; align-items: center;">
            <div class="lb-col lb-tiny-24 lb-mid-24">
                <div class="lb-bg-left-top-cover lb-border-p lb-small-pad lb-box" style="padding-left: 180px; padding-right: 180px; padding-bottom: 0px; background-image: url('https://s3.cn-north-1.amazonaws.com.cn/aws-dam-prod/tmt/template/GSRC_Tutorials_Congratulations.08882b89ba8adfe231cdb223e7ccfb462038399f.png'); background-color: #ffffff;">
                    <h1 id="Congratulations.21" class="lb-tiny-align-center lb-small-align-center lb-mid-align-center lb-large-align-center lb-xlarge-align-center lb-txt-none lb-txt-white lb-h1 lb-title"> Amazon Event Bus</h1>
                    <div class="lb-grid lb-row lb-row-max-large lb-snap" style="padding-top: 0px; margin-top: 0px;">
                        <div class="lb-col lb-tiny-24 lb-mid-6">
                        </div>
                        <div class="lb-col lb-tiny-24 lb-mid-12" style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
                            <div class="lb-tiny-align-center lb-small-align-center lb-mid-align-center lb-large-align-center lb-txt-16 lb-rtxt" style="color: #0d0d0d; margin-top: 0px;">
                                <p style="color: #0d0d0d; font-weight: bold;">
                                    "Amazon EventBridge (formerly Amazon CloudWatch Events) is a serverless event bus service that makes it easy to connect application data from a variety of sources to AWS services."
                                </p>
                            </div>
                        </div>
                        <div class="lb-col lb-tiny-24 lb-mid-6">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <section>
        <p>An event bus is a router that receives events and delivers them to zero or more destinations, or targets. Event buses are well-suited for routing events from many sources to many targets, with optional transformation of events prior to delivery to a target.</p>
        <img src="how-it-works.png" alt="how-it-works.png" width="780" height="230" style="display: block; margin-left: auto; margin-right: auto;">        <p>Rules associated with the event bus evaluate events as they arrive. Each rule checks whether an event matches the rule's pattern. If the event does match, EventBridge sends the event.</p>
        <p>You associate a rule with a specific event bus, so the rule only applies to events received by that event bus.</p>
        <p><strong>Note:</strong> You can also process events using EventBridge Pipes. EventBridge Pipes is intended for point-to-point integrations; each pipe receives events from a single source for processing and delivery to a single target. Pipes also include support for advanced transformations and enrichment of events prior to delivery to a target. For more information, see Amazon EventBridge Pipes.</p>
        
    </section>

    <section>
        <h1>How it works:</h1>
<p>Event buses enable you to route events from multiple sources to multiple destinations, or targets.</p>
<p>At a high level, here's how it works:</p>
<ul>
  <p>1. An event source, which can be an AWS service, your own custom application, or a SaaS provider, sends an event to an event bus.</p>
  <p>2. EventBridge then evaluates the event against each rule defined for that event bus.</p>
  <li>For each event that matches a rule, EventBridge then sends the event to the targets specified for that rule. Optionally, as part of the rule, you can also specify how EventBridge should transform the event prior to sending it to the target(s).</li>
  <li>An event might match multiple rules, and each rule can specify up to five targets. (An event may not match any rules, in which case EventBridge takes no action.)</li>
</ul>
<img src="how-it-works2.png" alt="how-it-works2.png" width="750" height="350" style="display: block; margin-left: auto; margin-right: auto;">

<p>Consider an example using the EventBridge default event bus, which automatically receives events from AWS services:</p>

<p>1. You create a rule on the default event bus for the EC2 Instance State-change Notification event:</p>

<ul>
  <li>You specify that the rule matches events where an Amazon EC2 instance has changed its state to running.</li>
  <li>You do this by specifying JSON that defines the attributes and values an event must match to trigger the rule. This is called an event pattern.</li>
</ul>
<pre>
    <code>
        {
            "source": ["aws.ec2"],
            "detail-type": ["EC2 Instance State-change Notification"],
              "detail": {
                "state": ["running"]
            }
          }
</pre>
</code>
<li>You specify the target of the rule to be a given Lambda function.</li>
<p>2. Whenever an Amazon EC2 instance changes state, Amazon EC2 (the event source) automatically sends that event to the default event bus.</p>
<p>3. EventBridge evaluates all events sent to the default event bus against the rule you've created.

    If the event matches your rule (that is, if the event was an Amazon EC2 instance changing state to running), EventBridge sends the event to the specified target. In this case, that's the Lambda function.</p>
    </section>

    <section>
        <h1>Amazon Event Bus</h1>
        <p>An event bus is a router that receives events and delivers them to zero or more destinations, or targets. Use an event bus when you need to route events from many sources to many targets, with optional transformation of events prior to delivery to a target.</p>

<p>Your account includes a default event bus that automatically receives events from AWS services. You can also:</p>

<ul>
  <li>Create additional event buses, called custom event buses, and specify which events they receive.</li>
  <li>Create partner event buses, which receive events from SaaS partners.</li>
</ul>

<p>Common use cases for event buses include:</p>

<ul>
  <li>Using an event bus as a broker between different workloads, services, or systems.</li>
  <li>Using multiple event buses in your applications to divide up the event traffic. For example, creating a bus to process events containing personal identification information (PII), and another bus for events that don't.</li>
  <li>Aggregating events by sending events from multiple event buses to a centralized event bus. This centralized bus can be in the same account as the other buses, but can also be in a different account or Region.</li>
</ul>
<img src="event bus 3.png" alt="event bus 3.png" width="770" height="570" style="display: block; margin-left: auto; margin-right: auto;">


<h1>Events</h1>
    <p>At its simplest, an EventBridge event is a JSON object sent to an event bus or pipe.</p>
    <p>In the context of event-driven architecture (EDA), an event often represents an indicator of a change in a resource or environment.</p>
    <p>For more information, see <a href="https://docs.aws.amazon.com/eventbridge/latest/userguide/concepts.html">Amazon EventBridge events</a>.</p>

    <h1>Event Sources</h1>
    <p>EventBridge can receive events from event sources including:</p>
    <ul>
        <li>AWS services</li>
        <li>Custom applications</li>
        <li>Software as a service (SaaS) partners</li>
    </ul>

    <h1>EventBridge Rules</h1>
    <p>A rule receives incoming events and sends them as appropriate to targets for processing. You can specify how each rule invokes their target(s) based on either:</p>
    <ul>
        <li>An event pattern, which contains one or more filters to match events. Event patterns can include filters that match on:</li>
        <ul>
            <li>Event metadata ‚Äì Data about the event, such as the event source, or the account or Region in which the event originated.</li>
            <li>Event data ‚Äì The properties of the event itself. These properties vary according to event.</li>
            <li>Event content ‚Äì The actual property values of the event data.</li>
        </ul>
        <li>A schedule to invoke the target(s) at regular intervals.</li>
    </ul>
    <p>You can specify a scheduled rule within EventBridge, or by using EventBridge Scheduler.</p>
    <p><strong>Note:</strong> EventBridge offers Amazon EventBridge Scheduler, a serverless scheduler that allows you to create, run, and manage tasks from one central, managed service. EventBridge Scheduler is highly customizable, and offers improved scalability over EventBridge scheduled rules, with a wider set of target API operations and AWS services. We recommend that you use EventBridge Scheduler to invoke targets on a schedule. For more information, see Using Amazon EventBridge Scheduler with Amazon EventBridge.</p>
    <p>Each rule is defined for a specific event bus, and only applies to events on that event bus.</p>
    <p>A single rule can send an event to up to five targets.</p>
    <p>By default, you can configure up to 300 rules per event bus. This quota can be raised to thousands of rules in the Service Quotas console. Since the rule limit applies to each bus, if you require even more rules, you can create additional custom event buses in your account.</p>
    <p>You can customize how events are received in your account by creating event buses with different permissions for different services.</p>
    <p>To customize the structure or date of an event before EventBridge passes it to a target, use the input transformer to edit the information before it goes to the target.</p>
    <p>For more information, see <a href="https://docs.aws.amazon.com/eventbridge/latest/userguide/rules.html">Amazon EventBridge rules</a>.</p>
    
    <h1>EventBridge Targets</h1>
    <p>A target is a resource or endpoint to which EventBridge sends an event when the event matches the event pattern defined for a rule.</p>
    <p>A target can receive multiple events from multiple event buses.</p>
    <p>For more information, see <a href="https://docs.aws.amazon.com/eventbridge/latest/userguide/targets.html">Amazon EventBridge targets</a>.</p>

    <h1>Advanced Features for Event Buses</h1>
    <h2>Using API destinations to enable REST API calls between services</h2>
    <p>EventBridge API destinations are HTTP endpoints that you can set as the target of a rule, in the same way that you would send event data to an AWS service or resource. By using API destinations, you can use API calls to route events between AWS services, integrated SaaS applications, and your applications outside of AWS. When you create an API destination, you specify a connection to use for it. Each connection includes the details about the authorization type and parameters to use to authorize with the API destination endpoint.</p>   

    <h2>Archiving and replaying events to aid development and disaster recovery</h2>
    <p>You can archive, or save, events and then replay them at a later time from the archive. Archiving is useful for:</p>
    <ul>
        <li>Testing an application because you have a store of events to use rather than having to wait for new events.</li>
        <li>Hydrating a new service when it first comes online.</li>
        <li>Adding more durability to your event-driven applications.</li>
    </ul>

    <h2>Using the Schema Registry to jump-start event pattern creation</h2>
    <p>When you build serverless applications that use EventBridge, it can be helpful to know the structure of typical events without having to generate the event. The event structure are described in schemas, which are available for all events generated by AWS services on EventBridge.</p>
<p>For events that don't come from AWS services, you can:</p>
    <ul>
    <li>Create or upload custom schemas.</li>
    <li>Use Schema Discovery to have EventBridge automatically create schemas for events sent to the event bus.</li>
</ul>
</section>

<section>
    <h1>Creating an Amazon Event Bus</h1>
    <p>You can create a custom event bus to receive events from your applications. Your applications can also send events to the default event bus. When you create an event bus, you can attach a resource-based policy to grant permissions to other accounts. Then other accounts can send events to the event bus in the current account.</p>
    <h2>Create Custom Event Bus</h2>
    <p>Follow the steps below to create a custom event bus:</p>
    <ol>
        <li>Open the Amazon EventBridge console at <a href="https://console.aws.amazon.com/events/">https://console.aws.amazon.com/events/</a>.</li>
        <li>In the navigation pane, choose <strong>Event buses</strong>.</li>
        <li>Choose <strong>Create event bus</strong>.</li>
        <li>Enter a name for the new event bus.</li>
        <li>
            <p>Configure the event bus:</p>
            <ul>
                <li>Specify a resource-based policy:</li>
                <ul>
                    <li>Enter the policy that includes the permissions to grant for the event bus. You can paste in a policy from another source or enter the JSON for the policy. You can use one of the example policies and modify it for your environment.</li>
                    <li>To use a template for the policy, choose <strong>Load template</strong>. Modify the policy as appropriate for your environment, including adding additional actions that you authorize the principal in the policy to use.</li>
                </ul>
                <li>Enable an archive (optional):</li>
                <p>You can create an archive of events so that you can easily replay them at a later time. For example, you might want to replay events to recover from errors or to validate new functionality in your application.</p>
                <ul>
                    <li>Under <strong>Archives</strong>, choose <strong>Enabled</strong>.</li>
                    <li>Specify a name and description for the archive.</li>
                </ul>
                <li>Enable schema discovery (optional):</li>
                <p>Enable schema discovery to have EventBridge automatically infer schemas directly from events running on this event bus.</p>
                <ul>
                    <li>Under <strong>Schema discovery</strong>, choose <strong>Enabled</strong>.</li>
                </ul>
                <li>Specify tags (optional):</li>
                <p>A tag is a custom attribute label that you assign to an AWS resource. Use tags to identify and organize your AWS resources. Many AWS services support tagging, so you can assign the same tag to resources from different services to indicate that the resources are related. </p>
                <ul>
                    <li>Under <strong>Tags</strong>, choose <strong>Add new tag</strong>.</li>
                    <li>Specify a key and, optionally, a value for the new tag.</li>
                </ul>
            </ul>
        </li>
        <li>Choose <strong>Create</strong>.</li>
    </ol>

</section>

<section>
    
    <h1>Updating Permissions on an Event Bus</h1>
  <p>You can grant additional permissions to an event bus by attaching a resource-based policy to it.</p>
  <p>For detailed instructions on updating the permissions given an event bus, see <a href="https://yourdocumentationlink.com/managing-event-bus-permissions">Managing event bus permissions</a>.</p>

  <h1>Adding or Removing Archives on Event Buses</h1>
  <p>An archive enables you to capture events so that you can easily replay them at a later time. For example, you might want to replay events to recover from errors or to validate new functionality in your application. For more information, see <a href="https://yourdocumentationlink.com/eventbridge-archive-replay">EventBridge archive and replay</a>.</p>
  <h2>To add or remove an archive from an event bus using the EventBridge console</h2>
  <ol>
    <li>Open the Amazon EventBridge console at <a href="https://console.aws.amazon.com/events/">https://console.aws.amazon.com/events/</a>.</li>
    <li>In the navigation pane, choose Event buses.</li>
    <li>Choose the event bus you want to update.</li>
    <li>On the events bus details page, choose the Archives tab.</li>
    <li>Do one of the following:
      <ul>
        <li>To add an archive:
          <ol type="a">
            <li>Choose Create archive.</li>
            <li>Specify attributes for the archive.</li>
            <li>Choose Next.</li>
            <li>Choose the event pattern to apply to events for the archive.</li>
            <li>Choose Create archive.</li>
          </ol>
        </li>
        <li>To delete an archive:
          <ol type="a">
            <li>For the archive you want to remove, choose Delete.</li>
            <li>Enter the name of the archive, and choose Delete.</li>
            <li>The archive is permanently deleted. You cannot undo this operation.</li>
          </ol>
        </li>
      </ul>
    </li>
  </ol>
  <h2>To create or delete an archive for an event bus using the AWS CLI</h2>
  <ul>
    <li>To create an archive, use <code>create-archive</code>.</li>
    <li>To permanently delete an archive, use <code>delete-archive</code>.</li>
  </ul>

  <h1>Starting or Stopping Schema Discovery on Event Buses</h1>
  <p>For more information on schema discovery, see <a href="https://yourdocumentationlink.com/eventbridge-schemas">EventBridge schemas</a>.</p>
  <h2>Using the EventBridge Console:</h2>
  <ol>
    <li>Open the Amazon EventBridge console at <a href="https://console.aws.amazon.com/events/">https://console.aws.amazon.com/events/</a>.</li>
    <li>In the navigation pane, choose Event buses.</li>
    <li>Choose the event bus you want to update.</li>
    <li>Do one of the following:
      <ul>
        <li>To start schema discovery, choose Start discovery.</li>
        <li>To stop schema discovery, choose Delete discovery.</li>
      </ul>
    </li>
  </ol>
  <h2>Using the AWS CLI:</h2>
  <ul>
    <li>To start schema discovery, use <code>create-discoverer</code>.</li>
    <li>To stop schema discovery, use <code>delete-discoverer</code>.</li>
  </ul>

  <h1>Adding or Removing Tags on Event Buses</h1>
  <p>A tag is a custom attribute label that you or AWS assigns to an AWS resource. Use tags to identify and organize your AWS resources. For more information, see <a href="https://yourdocumentationlink.com/eventbridge-tags">EventBridge tags</a>.</p>
  <h2>Using the EventBridge Console:</h2>
  <ol>
    <li>Open the Amazon EventBridge console at <a href="https://console.aws.amazon.com/events/">https://console.aws.amazon.com/events/</a>.</li>
    <li>In the navigation pane, choose Event buses.</li>
    <li>Choose the event bus you want to update.</li>
    <li>On the events bus details page, choose the Tags tab, and then choose Manage tags.</li>
    <li>Do one of the following:
      <ul>
        <li>To add a tag:
          <ol>
            <li>Choose Add new tag.</li>
            <li>Specify the key and value for the tag.</li>
            <li>Choose Update.</li>
          </ol>
        </li>
        <li>To remove a tag:
          <ol>
            <li>For the tag you want to remove, choose Remove.</li>
            <li>Choose Update.</li>
          </ol>
        </li>
      </ul>
    </li>
  </ol>
  <h2>Using the AWS CLI:</h2>
  <ul>
    <li>To add tags, use <code>tag-resource</code>.</li>
    <li>To remove tags, use <code>untag-resource</code>.</li>
  </ul>
</section>

<section>
    <h1>Deleting an Amazon Event Bus</h1>
  <p>You can delete a custom or partner event bus. However, you cannot delete the default event bus. Deleting an event bus also deletes the rules associated with that event bus.</p>
  <h2>Using the EventBridge Console:</h2>
  <ol>
    <li>Open the Amazon EventBridge console at <a href="https://console.aws.amazon.com/events/">https://console.aws.amazon.com/events/</a>.</li>
    <li>In the navigation pane, choose Event buses.</li>
    <li>Choose the event bus you want to delete.</li>
    <li>Do one of the following:
      <ul>
        <li>Choose Delete.</li>
        <li>Choose the name of the event bus. On the event bus details page, choose Delete.</li>
      </ul>
    </li>
  </ol>
</section>

<section>
    <h1>Permissions for Amazon Event Bus</h1>
  <p>The default event bus in your AWS account only allows events from one account. You can grant additional permissions to an event bus by attaching a resource-based policy to it. With a resource-based policy, you can allow PutEvents, PutRule, and PutTargets API calls from another account. You can also use IAM conditions in the policy to grant permissions to an organization, apply tags, or filter events to only those from a specific rule or account. You can set a resource-based policy for an event bus when you create it or afterward.</p>
  <p>EventBridge APIs that accept an event bus Name parameter such as PutRule, PutTargets, DeleteRule, RemoveTargets, DisableRule, and EnableRule also accept the event bus ARN. Use these parameters to reference cross-account or cross-Region event buses through the APIs. For example, you can call PutRule to create a rule on an event bus in a different account without needing to assume a role.</p>
  <p>You can attach the example policies in this topic to an IAM role to grant permission to send events to a different account or Region. Use IAM roles to set organization control policies and boundaries on who can send events from your account to other accounts. We recommend always using IAM roles when the target of a rule is an event bus. You can attach IAM roles using PutTarget calls. For information about creating a rule to send events to a different account or Region, see <a href="https://yourdocumentationlink.com/sending-receiving-eventbridge-events-between-aws-accounts">Sending and receiving Amazon EventBridge events between AWS accounts</a>.</p>
  <h1>Managing Event Bus Permissions</h1>
  <p>Use the following procedure to modify the permissions for an existing event bus. For information about how to use AWS CloudFormation to create an event bus policy, see AWS::Events::EventBusPolicy.</p>
  <h2>To manage permissions for an existing event bus:</h2>
  <ol>
    <li>Open the Amazon EventBridge console at <a href="https://console.aws.amazon.com/events/">https://console.aws.amazon.com/events/</a>.</li>
    <li>In the left navigation pane, choose Event buses.</li>
    <li>In Name, choose the name of the event bus to manage permissions for.</li>
    <li>If a resource policy is attached to the event bus, the policy displays.</li>
    <li>Choose Manage permissions, and then do one of the following:
      <ul>
        <li>Enter the policy that includes the permissions to grant for the event bus. You can paste in a policy from another source, or enter the JSON for the policy.</li>
        <li>To use a template for the policy, choose Load template. Modify the policy as appropriate for your environment, and add additional actions that you authorize the principal in the policy to use.</li>
      </ul>
    </li>
    <li>Choose Update.</li>
  </ol>
  <p>The template provides example policy statements that you can customize for your account and environment. The template isn't a valid policy. You can modify the template for your use case, or you can copy one of the example policies and customize it.</p>
  <p>The template loads policies that include an example of how to grant permissions to an account to use the PutEvents action, how to grant permissions to an organization, and how to grant permissions to the account to manage rules in the account. You can customize the template for your specific account, and then delete the other sections from the template. More example policies are included later in this topic.</p>
  <p>If you try to update the permissions for the bus but the policy contains an error, an error message indicates the specific issue in the policy.</p>
<pre>
    <code>
        
  ### Choose which sections to include in the policy to match your use case. ###
  ### Be sure to remove all lines that start with ###, including the ### at the end of the line. ###

  ### The policy must include the following: ###

  {
    "Version": "2012-10-17",
    "Statement": [

      ### To grant permissions for an account to use the PutEvents action, include the following, otherwise delete this section: ###

      {

        "Sid": "AllowAccountToPutEvents",
        "Effect": "Allow",
        "Principal": {
          "AWS": "<ACCOUNT_ID>"
        },
        "Action": "events:PutEvents",
        "Resource": "arn:aws:events:us-east-1:123456789012:event-bus/default"
      },

      ### Include the following section to grant permissions to all members of your AWS Organizations to use the PutEvents action ###

      {
        "Sid": "AllowAllAccountsFromOrganizationToPutEvents",
        "Effect": "Allow",
        "Principal": "*",
        "Action": "events:PutEvents",
        "Resource": "arn:aws:events:us-east-1:123456789012:event-bus/default",
        "Condition": {
          "StringEquals": {
            "aws:PrincipalOrgID": "o-yourOrgID"
          }
        }
      },

      ### Include the following section to grant permissions to the account to manage the rules created in the account ###

      {
        "Sid": "AllowAccountToManageRulesTheyCreated",
        "Effect": "Allow",
        "Principal": {
          "AWS": "<ACCOUNT_ID>"
        },
        "Action": [
          "events:PutRule",
          "events:PutTargets",
          "events:DeleteRule",
          "events:RemoveTargets",
          "events:DisableRule",
          "events:EnableRule",
          "events:TagResource",
          "events:UntagResource",
          "events:DescribeRule",
          "events:ListTargetsByRule",
          "events:ListTagsForResource"],
        "Resource": "arn:aws:events:us-east-1:123456789012:rule/default",
        "Condition": {
          "StringEqualsIfExists": {
            "events:creatorAccount": "<ACCOUNT_ID>"
          }
        }
    }]
  }
    </code>
</pre>
<h1>Example Policy: Send Events to the Default Bus in a Different Account</h1>
  <p>The following example policy grants the account 111122223333 permission to publish events to the default event bus in the account 123456789012.</p>
<pre>
    <code>
        {
            "Version": "2012-10-17",
            "Statement": [
                {
                 "Sid": "sid1",
                 "Effect": "Allow",
                 "Principal": {"AWS":"arn:aws:iam::111112222333:root"},
                 "Action": "events:PutEvents",
                 "Resource": "arn:aws:events:us-east-1:123456789012:event-bus/default"
                 }
             ]
           }
    </code>
</pre>

<h1>Example Policy: Send Events to a Custom Bus in a Different Account</h1>
  <p>The following example policy grants the account 111122223333 permission to publish events to the <em>central-event-bus</em> in account 123456789012, but only for events with a <em>source</em> value set to <code>com.exampleCorp.webStore</code> and a <em>detail-type</em> set to <code>newOrderCreated</code>.</p>
  <pre>
    <code>
        {
            "Version": "2012-10-17",
            "Statement": [
              {
                "Sid": "WebStoreCrossAccountPublish",
                "Effect": "Allow",
                "Action": [
                  "events:PutEvents"
                ],
                "Principal": {
                  "AWS": "arn:aws:iam::111112222333:root"
                },
                "Resource": "arn:aws:events:us-east-1:123456789012:event-bus/central-event-bus",
                "Condition": {
                  "StringEquals": {
                    "events:detail-type": "newOrderCreated",
                    "events:source": "com.exampleCorp.webStore"
                  }
                }
              }
            ]
          }
    </code>
  </pre>

  <h1>Example Policy: Send Events to an Event Bus in the Same Account</h1>
  <p>The following example policy attached to an event bus named <em>CustomBus1</em> allows the event bus to receive events from the same account and Region.</p>
  <pre>
    <code>
        {
            "Version": "2012-10-17",
            "Statement": [
              {
                "Effect": "Allow",
                "Action": [
                  "events:PutEvents"
                ],
                "Resource": [
                  "arn:aws:events:us-east-1:123456789:event-bus/CustomBus1"
                ]
              }
            ]
          }
    </code>
  </pre>

  <h1>Example Policy: Send Events to the Same Account and Restrict Updates</h1>
  <p>The following example policy grants account 123456789012 permission to create, delete, update, disable, and enable rules, and add or remove targets. It limits these rules that match against events with a source of <code>com.exampleCorp.webStore</code>, and it uses the <code>events:creatorAccount</code> condition to ensure that only account 123456789012 can modify these rules and targets once they have been created.</p>
  <pre>
    <code>
        {
            "Version": "2012-10-17",
            "Statement": [
              {
                "Sid": "InvoiceProcessingRuleCreation",
                "Effect": "Allow",
                "Principal": {
                  "AWS": "arn:aws:iam::123456789012:root"
                },
                "Action": [
                  "events:PutRule",
                  "events:DeleteRule",
                  "events:DescribeRule",
                  "events:DisableRule",
                  "events:EnableRule",
                  "events:PutTargets",
                  "events:RemoveTargets"
                ],
                "Resource": "arn:aws:events:us-east-1:123456789012:rule/central-event-bus/*",
                "Condition": {
                  "StringEqualsIfExists": {
                    "events:creatorAccount": "${aws:PrincipalAccount}",
                    "events:source": "com.exampleCorp.webStore"
                  }
                }
              }
            ]
          }
    </code>
  </pre>

  <h1>Example Policy: Send Events Only from a Specific Rule to the Bus in a Different Region</h1>
  <p>The following example policy grants the account 111122223333 permission to send events that match a rule named <em>SendToUSE1AnotherAccount</em> in the Middle East (Bahrain) and US West (Oregon) Regions to an event bus named <em>CrossRegionBus</em> in the US East (N. Virginia) in account 123456789012. The example policy is added to the event bus named <em>CrossRegionBus</em> in account 123456789012. The policy allows events only if they match a rule specified for the event bus in account 111122223333. The <code>Condition</code> statement restricts events to only events that match the rules with the specified rule ARN.</p>
  <pre>
    <code>
        {
            "Version": "2012-10-17",
            "Statement": [
              {
                "Sid": "AllowSpecificRulesAsCrossRegionSource",
                "Effect": "Allow",
                "Principal": {
                  "AWS": "arn:aws:iam::111112222333:root"
                },
                "Action": "events:PutEvents",
                "Resource": "arn:aws:events:us-east-1:123456789012:event-bus/CrossRegionBus",
                "Condition": {
                  "ArnEquals": {
                    "aws:SourceArn": [
                      "arn:aws:events:us-west-2:111112222333:rule/CrossRegionBus/SendToUSE1AnotherAccount",
                      "arn:aws:events:me-south-1:111112222333:rule/CrossRegionBus/SendToUSE1AnotherAccount"
                    ]
                  }
                }
              }
            ]
          }
    </code>
  </pre>

  <h1>Example Policy: Send Events Only from a Specific Region to a Different Region</h1>
  <p>The following example policy grants account 111122223333 permission to send all events that are generated in the Middle East (Bahrain) and US West (Oregon) Regions to the event bus named <em>CrossRegionBus</em> in account 123456789012 in the US East (N. Virginia) Region. Account 111122223333 doesn't have permission to send events that are generated in any other Region.</p>
  <pre>
    <code>
        {
            "Version": "2012-10-17",
            "Statement": [
              {
                "Sid": "AllowCrossRegionEventsFromUSWest2AndMESouth1",
                "Effect": "Allow",
                "Principal": {
                  "AWS": "arn:aws:iam::111112222333:root"
                },
                "Action": "events:PutEvents",
                "Resource": "arn:aws:events:us-east-1:123456789012:event-bus/CrossRegionBus",
                "Condition": {
                  "ArnEquals": {
                    "aws:SourceArn": [
                      "arn:aws:events:us-west-2:*:*",
                      "arn:aws:events:me-south-1:*:*"
                    ]
                  }
                }
              }
            ]
          }
    </code>
  </pre>

  <h1>Example Policy: Deny Sending Events from Specific Regions</h1>
  <p>The following example policy attached to an event bus named <em>CrossRegionBus</em> in account 123456789012 grants permission for the event bus to receive events from the account 111122223333, but not events that are generated in the US West (Oregon) Region.</p>
  <pre>
    <code>
        {
            "Version": "2012-10-17",
            "Statement": [
              {
                "Sid": "1AllowAnyEventsFromAccount111112222333",
                "Effect": "Allow",
                "Principal": {
                  "AWS": "arn:aws:iam::111112222333:root"
                },
                "Action": "events:PutEvents",
                "Resource": "arn:aws:events:us-east-1:123456789012:event-bus/CrossRegionBus"
              },
              {
                "Sid": "2DenyAllCrossRegionUSWest2Events",
                "Effect": "Deny",
                "Principal": {
                  "AWS": "*"
                },
                "Action": "events:PutEvents",
                "Resource": "arn:aws:events:us-east-1:123456789012:event-bus/CrossRegionBus",
                "Condition": {
                  "ArnEquals": {
                    "aws:SourceArn": [
                      "arn:aws:events:us-west-2:*:*"
                    ]
                  }
                }
              }
            ]
          }
    </code>
  </pre>
</section>

<section>
    <h1>Generate an AWS CloudFormation template from an Amazon EventBridge event bus</h1>
  <p>AWS CloudFormation enables you to configure and manage your AWS resources across accounts and regions in a centralized and repeatable manner by treating infrastructure as code. CloudFormation does this by letting you create templates, which define the resources you want to provision and manage.</p>
  <p>EventBridge enables you to generate templates from the existing event buses in your account, as an aid to help you jumpstart developing CloudFormation templates. In addition, EventBridge provides the option of including the rules associated with that event bus in your template. You can then use these templates as the basis for creating stacks of resources under CloudFormation management.</p>
  <p>For more information on CloudFormation, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/">The AWS CloudFormation User Guide</a>.</p>
  <p><strong>Note:</strong> EventBridge does not include managed rules in the generated template.</p>
  <p>You can also generate a template from one or more rules contained in a selected event bus.</p>
  <h2>Generating CloudFormation Template from Event Bus</h2>
  <ol>
    <li>Open the Amazon EventBridge console at <a href="https://console.aws.amazon.com/events/">https://console.aws.amazon.com/events/</a>.</li>
    <li>In the navigation pane, choose Event buses.</li>
    <li>Choose the event bus from which you want to generate a CloudFormation template.</li>
    <li>From the Actions menu, choose CloudFormation Template, and then choose which format you want EventBridge to generate the template in: JSON or YAML.</li>
    <li>EventBridge displays the template, generated in the selected format. By default, all rules associated with the event bus are included in the template.</li>
    <li>To generate the template without including rules, deselect Include rules on this EventBus.</li>
    <li>EventBridge gives you the option of downloading the template file, or copying the template to the clipboard.</li>
    <ul>
      <li>To download the template file, choose Download.</li>
      <li>To copy the template to the clipboard, choose Copy.</li>
    </ul>
    <li>To exit the template, choose Cancel.</li>
  </ol>
  <p>Once you've customized your AWS CloudFormation template as necessary for your use case, you can use it to create stacks in CloudFormation.</p>

  <h1>Considerations when Using CloudFormation Templates Generated from Amazon EventBridge</h1>
  <p>Consider the following factors when using a CloudFormation template you generated from an event bus:</p>
  <ul>
    <li>EventBridge does not include any passwords in the generated template.</li>
    <li>You can edit the template to include template parameters that enable users to specify passwords or other sensitive information when using the template to create or update a CloudFormation stack.</li>
    <li>In addition, users can use Secrets Manager to create a secret in the desired region and then edit the generated template to employ dynamic parameters.</li>
    <li>Targets in the generated template remain exactly as they were specified in the original event bus. This can lead to cross-region issues if you do not appropriately edit the template before using it to create stacks in other regions.</li>
    <li>Additionally, the generated template will not create the downstream targets automatically.</li>
  </ul>
</section>

<div class="lb-transition-wrapper lb-transition-fade-in lb-active" data-lb-comp="transition-wrapper" data-lb-comp-registered="true">
    <div class="lb-none-pad lb-grid lb-row lb-row-max-large lb-snap" style="display: flex; align-items: center;">
        <div class="lb-col lb-tiny-24 lb-mid-24">
            <div class="lb-bg-left-top-cover lb-border-p lb-small-pad lb-box" style="padding-left: 20px; padding-bottom: 0px; background-image: url('https://s3.cn-north-1.amazonaws.com.cn/aws-dam-prod/tmt/template/GSRC_Tutorials_Congratulations.08882b89ba8adfe231cdb223e7ccfb462038399f.png');">
                <h1 id="Congratulations.21" class="lb-tiny-align-center lb-small-align-center lb-mid-align-center lb-large-align-center lb-xlarge-align-center lb-txt-none lb-txt-white lb-h1 lb-title"> Congratulations!</h1>
                <div class="lb-grid lb-row lb-row-max-large lb-snap" style="padding-top: 0px; margin-top: 0px;">
                    <div class="lb-col lb-tiny-24 lb-mid-6">
                    </div>
                    <div class="lb-col lb-tiny-24 lb-mid-12" style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
                        <div class="lb-tiny-align-center lb-small-align-center lb-mid-align-center lb-large-align-center lb-txt-16 lb-rtxt" style="color: #FFFFFF; margin-top: 0px;">
                            <p style="color: #FFFFFF;">
                                "Congratulations on leveraging Amazon EventBridge! With seamless event-driven architecture, efficiently integrate and communicate across AWS services. May your event buses be precise, rules effective, and targets always met. Wishing you success in your event-routing endeavors!"üëèüöÄ         
                            </p>                   
                        </div>                    
                    <div class="lb-col lb-tiny-24 lb-mid-6">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
